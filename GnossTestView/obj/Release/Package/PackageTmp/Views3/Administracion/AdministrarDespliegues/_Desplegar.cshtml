@model AdministrarDesplieguesViewModel
@{
    int mostrar = Model.VersionesEntornoActual.Count < 5 ? Model.VersionesEntornoActual.Count : 5;
}
@if (string.IsNullOrEmpty(Model.NombreEntornoSuperior))
{
    <div>No es posible hacer despliegues desde Master</div>
}
else
{
    <br />
    <div for="Desplegar">
        Desplegar en @Model.NombreEntornoSuperior la versión
        <select id="select">
            <option value="@Model.VersionActualEntornoActual" selected>@Model.VersionActualEntornoActual</option>
            @foreach (var version in Model.VersionesEntornoActual)
            {
                <option value="@version.Value">@version.Value</option>
            }
        </select>
        <input type="button" name="Desplegar" placeholder="@Model.VersionActualEntornoActual" id="Desplegar" value="Desplegar">
    </div>

    if (Model.VersionesEntornoActual.Any())
    {
        <h2>Versiones Anteriores</h2>
        <div>Si es necesario es posible cambiar de version de trabajo en este entorno</div>
        <ul id="MyList">
            @foreach (KeyValuePair<DateTime, string> version in Model.VersionesEntornoActual.OrderByDescending(x => x.Key).Take(mostrar))
            {
                <li>
                    <div for="CambiarVersion">Version <b>@version.Value</b> creada el @version.Key <input type="button" name="CambiarVersion" placeholder="@version.Value" value="Cambiar Versión"></div>
                </li>
            }
        </ul>
        if (Model.VersionesEntornoActual.Count > 5)
        {
            <a href="javascript:void(0)" id="MostrarMasVersiones">Mostrar más versiones</a>
        }
    }
}